<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>blog-ydnaz</title><link href="/" rel="alternate"></link><link href="/feeds/all.atom.xml" rel="self"></link><id>/</id><updated>2023-09-30T15:39:00+07:00</updated><entry><title>OpenTofu</title><link href="/Perbuahan%20lisensi%20di%20hashicorp%20membuat%20OpenTofu%20lahir%20sebagai%20fork..html" rel="alternate"></link><published>2023-09-30T15:39:00+07:00</published><updated>2023-09-30T15:39:00+07:00</updated><author><name>me</name></author><id>tag:None,2023-09-30:/Perbuahan lisensi di hashicorp membuat OpenTofu lahir sebagai fork..html</id><summary type="html">&lt;p&gt;OpenTofu opensource forking dari TerraForm sebagai jawaban dari Perbuhan lisensi di Hashicorp&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hashi corp baru-baru ini merubah model lisensinya dari MPL 2.0 (Mozilla Public License) ke BUSL/BSL (Business Source License), dan perubahan lisensi ini termasuk ke semua produk dari Hashi corp seperti terraform, packer, vault, consul dll.&lt;/p&gt;
&lt;p&gt;Meskipun mengutip dari laman resmi hashi corp yang menyatakan bahwa enduser ataupun integrated partner tidak terkena dampak dari perubahan lisensi ini, namun menurut banyak kalangan lisensi BUSL/BSL ini sedikit ambigu sehingga membuat banyak pihak yang akan takut untuk menggunakan Terraform, sehingga dibuat lah OpenTofu sebagai for dari Terraform ini. 
OpenTofu di buat sebagai &lt;em&gt;drop-in replacement&lt;/em&gt; sehingga memastikan bahwa OpenTofu akan backward compatible dengan existing state file dari terraform.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.hashicorp.com/bsl"&gt;Hashicorp BSL&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://opentofu.org/"&gt;OpenTofu&lt;/a&gt;&lt;/p&gt;</content><category term="Opensource"></category><category term="Terraform"></category><category term="Opentofu"></category><category term="Hashicorp"></category></entry><entry><title>Microsoft Storage Space</title><link href="/Volume%20Storage%20management%20di%20Windows.html" rel="alternate"></link><published>2021-11-01T13:40:00+07:00</published><updated>2021-11-01T13:40:00+07:00</updated><author><name>me</name></author><id>tag:None,2021-11-01:/Volume Storage management di Windows.html</id><summary type="html">&lt;p&gt;Storage Space Volume Storage management dari Windows&lt;/p&gt;</summary><content type="html">&lt;p&gt;Buat yang biasa pake linux, mungkin lvm sudah tergolong teknologi lawas. Well sebenernya gak begitu banyak yang ditawarkan oleh lvm ini, selain kemudahan akses block device dan juga menggabungkan multi hard-disk yang bisa di manage dan dijadikan satu atau beberapa volume. 
Entah sejak kapan benda ini ada, tapi iseng-iseng search storage di dash-nya si Windows 11 ini, dan tiba-tiba ada opsi &lt;em&gt;Manage Storage Spaces&lt;/em&gt; iseng-iseng cari tau, dan ketemu beberapa post di stackoverflow ternyata itu adalah teknologi &lt;em&gt;lvm-likes&lt;/em&gt; dari microsoft untuk windows 10 dan windows server 2016 keatas, sejak kapan adanya gak begitu tau juga, well iseng coba so far so good sih.
Gak banyak yang mau di tulis, apalagi kalo mau post gambar males ss dan uploadnya, jadi ini lebih ke tulisan first impression aja sih, sejauh ini nyoba si &lt;em&gt;Storage Spaces&lt;/em&gt; ini so far so good.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Storage" space"="" src="images/Screenshot20230930123308.png" style="heigh: 500px; width: 500px;"/&gt;&lt;/p&gt;</content><category term="Microsoft Windows"></category><category term="Microsoft"></category><category term="Windows"></category><category term="lvm"></category><category term="storage-space"></category></entry><entry><title>Membangun Cluster di Mariadb menggunakan Galera Cluster part 1</title><link href="/membangun-cluster-di-mariadb-menggunakan-galera-cluster-part-1.html" rel="alternate"></link><published>2020-06-30T22:30:00+07:00</published><updated>2020-06-30T22:30:00+07:00</updated><author><name>me</name></author><id>tag:None,2020-06-30:/membangun-cluster-di-mariadb-menggunakan-galera-cluster-part-1.html</id><summary type="html">&lt;p&gt;Install dan konfigurasi Maridb Cluster&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;&lt;em&gt;Introduction:&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Untuk membuat Clustering Database system di MariaDB maka bisa menggunakan Galera. 
Galera sendiri sudah termasuk kedalam paket instalasi pada MariaDB sehingga tidak dibutuhkan instalasi paket tambahan.
Namun jika ingin menggunakan versi galera yang lebih tinggi seperti galera-3 di MariaDB 10.3 dan 
galera-4 di MariaDB 10.4 maka butuh menambahlak paket &lt;em&gt;galera-3&lt;/em&gt; dan &lt;em&gt;galera-4&lt;/em&gt; untuk menginstall 
wsrep provider librarynya.&lt;/p&gt;
&lt;p&gt;Beberapa Fitur yang ditawarkan dari Galera Cluster diantaranya:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;True Multi-Master&lt;/em&gt;&lt;/strong&gt; 
You can read and write to any node at any time. 
Changes to data on one node will be replicated on all. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Synchronous Replication&lt;/em&gt;&lt;/strong&gt; 
There is no slave lag, so no data is lost if a node crashes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Tightly Coupled&lt;/em&gt;&lt;/strong&gt; 
All nodes hold the same state. There is no diverged data between nodes. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Multi-Threaded Slave&lt;/em&gt;&lt;/strong&gt; 
This allows for better performance and for any workload. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;No Master-Slave Failover&lt;/em&gt;&lt;/strong&gt; 
There is no need for master-slave operations or to use VIP. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Hot Standby&lt;/em&gt;&lt;/strong&gt; 
There is no downtime related to failures or intentionally taking down a node 
for maintenance, since there is no failover. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Automatic Node Provisioning&lt;/em&gt;&lt;/strong&gt; 
There&amp;rsquo;s no need to backup manually the database and copy it to the new node. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Supports InnoDB&lt;/em&gt;&lt;/strong&gt; 
The InnoDB storage engine provides for transactional tables. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Transparent to Applications&lt;/em&gt;&lt;/strong&gt; 
Generally, you won&amp;rsquo;t have to change an application that will interface with the database
 as a result of Galera. If you do, it will be minimal changes. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;No Read and Write Splitting Needed&lt;/em&gt;&lt;/strong&gt; 
There is no need to split read and write queries.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pada tutorial ini instalasi di lakukan di OS Ubuntu 20.04, tutorial ini harusnya bisa juga di implementasikan di Debian 10 dan turunannya.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Requirements:&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;3 server dengan OS Linux varian Ubuntu 20.04 atau Debian 10 fresh install dengan akses &lt;code&gt;root&lt;/code&gt; atau &lt;code&gt;sudo&lt;/code&gt; sebagai instance database server.
1 server dengan OS Linux varian Ubuntu 20.04 atau Debian 10 fresh install dengan akses &lt;code&gt;root&lt;/code&gt; atau &lt;code&gt;sudo&lt;/code&gt; sebagai instance proxy server.
(optional) server bisa saling terhubung menggunakan hostname&lt;/p&gt;
&lt;p&gt;Server yang digunakan:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;192.168.30.63   db1&lt;/span&gt;
&lt;span class="x"&gt;192.168.30.64   db2&lt;/span&gt;
&lt;span class="x"&gt;192.168.30.64   db3&lt;/span&gt;
&lt;span class="x"&gt;192.168.30.200  proxy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Proses Instalasi:&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Seperti biasa lakukan update terlebih dahulu sebelum menginstall paket.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;apt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;y&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;update&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;apt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;y&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;install&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;mariadb&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;server&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;rsync&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Untuk Debian karena pada Debian 10 versi MariaDB-10 belum ada di repository, maka bisa menggunakan repo dari MariaDB&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;apt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;y&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;update&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;apt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;y&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;install&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;dirmngr&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;software&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;properties&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;common&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;key&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;adv&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nx"&gt;recv&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;keys&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nx"&gt;keyserver&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;hkp&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//keyserver.ubuntu.com:80 0xF1656F24C74CD1D8 &lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;add&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;repository&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="nx"&gt;deb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;arch&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="nx"&gt;amd64&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//nyc2.mirrors.digitalocean.com/mariadb/repo/10.1/debian buster main'&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;apt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;update&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;apt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;y&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;install&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;mariadb&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;server&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;rsync&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Jalankan perintah itu untuk menginstall Mariadb di ketiga server.
Setelah selesai instalasi, setting password root untuk database dan selanjutnya kita akan matikan service terlebih dahulu karna kita akan melakukan konfigurasi.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;mysql&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;root&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kemudian setting password untuk MariaDB root&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"p@55w0Rd123"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Jika sukses maka output seperti ini akan muncul
&lt;img alt="mariadb1 img!" src="images/mariadb1.png" title="mariadb password success"/&gt;
Selanjutnya keluar dari mariadb dengan perintah &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;]&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;q&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Setlah itu kita akan melakukan config Galera, sebelum itu matikan terlebih dahulu servicenya.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;systemctl&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;stop&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;mariadb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Setup Galera cluster&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Konfigurasi Galera cluster ada di &lt;code&gt;/etc/mysql/mariadb.conf.d/50-galera.cnf&lt;/code&gt;
Edit file tersebut dan tambahkan config seperti berikut:
&lt;code&gt;$ sudo vim /etc/mysql/mariadb.conf.d/50-galera.cnf&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mysqld&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;binlog_format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ROW&lt;/span&gt;
&lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;storage&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;engine&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;innodb&lt;/span&gt;
&lt;span class="n"&gt;innodb_autoinc_lock_mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;192.168.30.63&lt;/span&gt;

&lt;span class="c1"&gt;# Galera Provider Configuration&lt;/span&gt;
&lt;span class="n"&gt;wsrep_on&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ON&lt;/span&gt;
&lt;span class="n"&gt;wsrep_provider&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;galera&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libgalera_smm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;so&lt;/span&gt;

&lt;span class="n"&gt;wsrep_cluster_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"galera_cluster"&lt;/span&gt;
&lt;span class="n"&gt;wsrep_cluster_address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"gcomm://192.168.30.63,192.168.30.64,192.168.30.65"&lt;/span&gt;

&lt;span class="n"&gt;wsrep_sst_method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;rsync&lt;/span&gt;

&lt;span class="n"&gt;wsrep_node_address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"192.168.30.63"&lt;/span&gt;
&lt;span class="n"&gt;wsrep_node_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"db1"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Karena kita sudah setting binding-address IP kita di &lt;strong&gt;50-galera.cnf&lt;/strong&gt; maka kita akan menghapus setting tersebut dari file &lt;strong&gt;50-server.cnf&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sed&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="nx"&gt;s&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;bind&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;address&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="nx"&gt;bind&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;address&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;g&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;mysql&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;mariadb&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;conf&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;server&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;cnf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya edit di node berikutnya file &lt;strong&gt;50-galera.cnf&lt;/strong&gt; tersebut, isi dari config boleh di copy, yang perlu diubah hanya pada bagian berikut&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;wsrep_node_address=&lt;/span&gt;
&lt;span class="x"&gt;wsrep_node_name=&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ganti dengan hostname dan ip dari masing-masing server. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Firwall Config (Optional)&lt;/em&gt;&lt;/strong&gt;
Secara default biasanya Ubuntu dan Debian tidak mengaktifkan firewall service, namun untuk production sangat disarankan agar service tersebut dinyalakan. Untuk management firewall di Debian Base bisa menggunakan UFW ataupun Firewalld seperti di keluarga &lt;strong&gt;RedHat&lt;/strong&gt;, namun agar lebih seragam maka tutorial ini akan menggunakan UFW sebagai manajemen firewallnya.&lt;/p&gt;
&lt;p&gt;Port yang perlu di buka agar service-service yang dibutuhkan untuk Galera Cluster bisa berfungsi:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;3306&lt;/strong&gt; Port yang digunakan untuk MySQL/MariaDB Database berkomunikasi, merupakan default service port (meskipun port ini bisa diubah tetapi tidak direkomendasikan untuk mengubahnya).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;4567&lt;/strong&gt; Port untuk Galera Cluster Replication traffic. Multicast replication akan menggunakan UDP dan TCP pada port ini.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;4568&lt;/strong&gt; Port untuk incremental transfer state.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;4444&lt;/strong&gt; Port untuk fitur lain seperti snapshot dari galera service.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Untuk mengallow akses firewall pada ufw menggunakan command berikut:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;ufw&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;allow&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;192.168.30.0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;proto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;tcp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;any&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;port&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3306&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4567&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4568&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4444&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;ufw&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;allow&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;192.168.30.0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;proto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;udp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;any&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;port&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;4567&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Perhatikan perintah diatas, ubah ip dan subnet sesuai dengan subnet yang digunakan, atau jika ingin mengallow ke semua &lt;strong&gt;(kurang aman dan kurang direkomendasikan)&lt;/strong&gt; bisa menggunakan perintah berikut:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;ufw&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;allow&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3306&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4567&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4568&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4444&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;tcp&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;ufw&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;allow&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;4567&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;udp&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Start Galera Cluster&lt;/em&gt;&lt;/strong&gt;
Selanjutnya start Galera Cluster dari node pertama&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;galera_new_cluster&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya cek status wsrep dengan login ke mysql shell&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;mysql&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;root&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;e&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"SHOW STATUS LIKE 'wsrep_cluster_size'"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Jika sukses maka akan muncul tampilan berikut:&lt;/p&gt;
&lt;p&gt;Selanjutnya start service mariadb-server di node 2 dan 3&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;systemctl&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;start&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;mysql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;dan cek kembali wsrep status nya, jika server db node 2 dan 3 juga sukses, maka ukuran &lt;strong&gt;wsrep_cluster_size&lt;/strong&gt; nya akan bertambah seperti gambar berikut:&lt;/p&gt;
&lt;p&gt;Sampai disini dulu tutorial &lt;strong&gt;part 1&lt;/strong&gt; ini, untuk testing replication akan kita sambung di part berikutnya.&lt;br/&gt;
ğŸ˜ ğŸ˜ ğŸ˜&lt;/p&gt;</content><category term="misc"></category><category term="Mariadb"></category><category term="linux"></category><category term="database"></category><category term="cluster"></category></entry><entry><title>Berkenalan dengan Bhyve The BSD Hypervisor</title><link href="/Bhyve%20the%20BSD%20Hypervisor.html" rel="alternate"></link><published>2016-03-28T20:03:00+07:00</published><updated>2016-03-28T20:03:00+07:00</updated><author><name>me</name></author><id>tag:None,2016-03-28:/Bhyve the BSD Hypervisor.html</id><summary type="html">&lt;p&gt;Bhype the BSD Hypervisor&lt;/p&gt;</summary><content type="html">&lt;p&gt;Bhyve the BSD hypervisor merupakan hypervisor type-2 dari FreeBSD family, hampir mirip seperti kvm pada linux. Bhyve sendiri tergolong masih sangant muda, baru rilis 2014 kemarin, cukup bisa di jadikan alternative buat ngelab kalo bosen main qemu/kvm atau virtual box.&lt;/p&gt;</content><category term="FreeBSD"></category><category term="virtualisasi"></category><category term="freebsd"></category><category term="qemu"></category></entry><entry><title>Install dan setting Openvpn di Debian Jessie</title><link href="/install-openvpn-di-debian-linux-server.html" rel="alternate"></link><published>2015-04-12T23:27:00+07:00</published><updated>2017-04-16T23:40:00+07:00</updated><author><name>me</name></author><id>tag:None,2015-04-12:/install-openvpn-di-debian-linux-server.html</id><summary type="html">&lt;p&gt;Cara menginstall openvpn di debian linux&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;VPN&lt;/em&gt; atau &lt;code&gt;virtual private network&lt;/code&gt; protokol jaringan untuk membuat tunnel jaringan diantara komputer yang bukan berada di satu jaringan lokal untuk dapat berkomunikasi secara aman. &lt;/p&gt;
&lt;p&gt;Pada artikel kali ini saya akan menulis &lt;em&gt;how-to&lt;/em&gt; / tutorial menginstall dan menyetting OpenVPN server di Debian Jessie. &lt;/p&gt;
&lt;h5&gt;Install&lt;/h5&gt;
&lt;p&gt;Seperti biasa sebelum menginstall packet baru di server sebaiknya kita mengupdate system kita terlebih dahulu.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo apt get update &amp;amp;&amp;amp; sudo apt get upgrade&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;lalu install paket-paket yang dibutuhkan oleh openvpn&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo apt install openvpn easy-rsa&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dengan demikian &lt;code&gt;OpenVPN&lt;/code&gt; sudah terinstall, selanjutnya kita akan mengkonfigurasinya.&lt;/p&gt;
&lt;h5&gt;Setting OpenVPN  serta Buat Sertifikat dan key&lt;/h5&gt;
&lt;p&gt;Direktori tempat &lt;code&gt;OpenVPN&lt;/code&gt; menyimpan file konfigurasinya secara &lt;em&gt;default&lt;/em&gt; ada &lt;code&gt;/etc/openvpn/&lt;/code&gt; kita akan meletakan semua file yang dibutuhkan untuk mengkonfigurasi server di direktori tersebut.
&lt;code&gt;OpenVPN&lt;/code&gt; server menyertakan contoh file konfigurasinya untuk mempermudah pengguna melakukan konfigurasi, meskipun kita bisa membuat sendiri file konfigurasi ini.&lt;/p&gt;
&lt;p&gt;Untuk mengcopy file &lt;em&gt;sample&lt;/em&gt; ini dan meletakannya di direktori &lt;code&gt;/etc/openvpn&lt;/code&gt; kita bisa melakukan dengan perintah berikut:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo gunzip -c /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz &amp;gt; /etc/openvpn/server.conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya kita akan menyetting dan menyesuaikan file konfigurasi &lt;code&gt;server.conf&lt;/code&gt; ini.&lt;/p&gt;
&lt;p&gt;Beberapa perubahan utama yang akan kita buat pada file konfig adalah:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Meningkatkan level enkripsi &lt;/li&gt;
&lt;li&gt;Meneruskan &lt;em&gt;web traffic&lt;/em&gt; ke alamat tujuan&lt;/li&gt;
&lt;li&gt;Mencegah bocornya DNS &lt;em&gt;request&lt;/em&gt; keluar dari koneksi VPN &lt;/li&gt;
&lt;li&gt;Menyetting &lt;em&gt;permission&lt;/em&gt; dan memperkuatnya&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;tapi kita menyesuaikan settingan file konfig di &lt;code&gt;server.conf&lt;/code&gt; kita akan terlebih dahulu membuat sertifikat dan key, yang akan digunakan sebagai autentikasi untuk &lt;code&gt;OpenVPN&lt;/code&gt; server kita.
Pertama kita akan meng&lt;em&gt;copy&lt;/em&gt; &lt;code&gt;Easy-rsa&lt;/code&gt; &lt;em&gt;generation script&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo cp -r /usr/share/easy-rsa/ /etc/openvpn&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya buat direktori tempat kita menyimpan key dan sertifikat &lt;code&gt;OpenVPN&lt;/code&gt; kita.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo mkdir /etc/openvpn/easy-rsa/keys&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;kemudian buat &lt;em&gt;symbolic links&lt;/em&gt; dari &lt;code&gt;openssl-1.0.0.cnf&lt;/code&gt; ke &lt;code&gt;openssl.cnf&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo ln -s openssl-1.0.0.cnf openssl.cnf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Setelah itu kita akan menyetting parameter untuk &lt;em&gt;certificate&lt;/em&gt; kita sebelum sertifikat itu di buat.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo nano /etc/openvpn/easy-rsa/vars&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pada file ini variable berikut adalah yg perlu diganti dan dibuat sesuai informasi kita inginkan:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;export KEY_COUNTRY="US" &lt;/span&gt;
&lt;span class="x"&gt;export KEY_PROVINCE="TX" &lt;/span&gt;
&lt;span class="x"&gt;export KEY_CITY="Dallas" &lt;/span&gt;
&lt;span class="x"&gt;export KEY_ORG="My Company Name" &lt;/span&gt;
&lt;span class="x"&gt;export KEY_EMAIL="sammy@example.com" &lt;/span&gt;
&lt;span class="x"&gt;export KEY_OU="MYOrganizationalUnit" &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;sedang variable lain, tidak perlu diganti kecuali memang paham apa yang akan dilakukan.&lt;/p&gt;
&lt;p&gt;Selanjutnya kita akan pindah ke direktori &lt;code&gt;/etc/openvpn&lt;/code&gt; untuk meng&lt;em&gt;generate&lt;/em&gt; &lt;em&gt;Diffie-Helman&lt;/em&gt; parameter menggunakan &lt;em&gt;tool&lt;/em&gt; bawaan dari OPENSSL bernama &lt;code&gt;dhparam&lt;/code&gt; &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;cd /etc/openvpn&lt;/span&gt;
&lt;span class="x"&gt;sudo openssl dhparam -out /etc/openvpn/easy-rsa/keys/dh4096.pem 4096&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;opsi -out diatas mendefinisikan lokasi output hasil &lt;em&gt;generate&lt;/em&gt; dari dhparam.&lt;/p&gt;
&lt;p&gt;Dengan demikian &lt;em&gt;dhparam&lt;/em&gt;  kita telah berhasil dibuat, selanjutnya kita akan meng&lt;em&gt;generate&lt;/em&gt; &lt;em&gt;certificate&lt;/em&gt; server  dan server &lt;em&gt;key&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Untuk menggenerate server &lt;em&gt;key&lt;/em&gt; dan server &lt;em&gt;certificate&lt;/em&gt; kita akan pindah satu direktori ke direktory &lt;em&gt;easy-rsa&lt;/em&gt; dan meng&lt;em&gt;generate&lt;/em&gt; pki (Public Key Infrastructure) dari file &lt;code&gt;vars&lt;/code&gt; yang telah kita setting variablenya sebelumnya&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;cd easy-rsa&lt;/span&gt;
&lt;span class="x"&gt;sudo . ./vars&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;sup&gt;perhatikan tanda spasi (white space) diantara titik, saat meng&lt;em&gt;generate&lt;/em&gt; pki diatas. &lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;Saat menjalankan perintah diatas kita akan mendapatkan notif :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;NOTE&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;If&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;you&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;clean&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;will&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;be&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;doing&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;rm&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;rf&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;on&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sr"&gt;/etc/openvpn/easy-rsa/&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya jalankan clean-all untuk mencegah &lt;em&gt;key&lt;/em&gt; lain yang mungkin konflik dengan &lt;em&gt;key&lt;/em&gt; server kita nanti, dan membuat ca &lt;em&gt;certificate&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo ./clean-all
sudo ./build-ca
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Perintah &lt;code&gt;./build-ca&lt;/code&gt; diatas akan memanggil open-ssl interaktif dan memberikan beberapa &lt;em&gt;challange question&lt;/em&gt; seperti berikut:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;Generating a 1024 bit RSA private key&lt;/span&gt;
&lt;span class="x"&gt;............++++++&lt;/span&gt;
&lt;span class="x"&gt;...........++++++&lt;/span&gt;
&lt;span class="x"&gt;writing new private key to 'ca.key'&lt;/span&gt;
&lt;span class="x"&gt;-----&lt;/span&gt;
&lt;span class="x"&gt;You are about to be asked to enter information that will be incorporated&lt;/span&gt;
&lt;span class="x"&gt;into your certificate request.&lt;/span&gt;
&lt;span class="x"&gt;What you are about to enter is what is called a Distinguished Name or a DN.&lt;/span&gt;
&lt;span class="x"&gt;There are quite a few fields but you can leave some blank&lt;/span&gt;
&lt;span class="x"&gt;For some fields there will be a default value,&lt;/span&gt;
&lt;span class="x"&gt;If you enter '.', the field will be left blank.&lt;/span&gt;
&lt;span class="x"&gt;-----&lt;/span&gt;
&lt;span class="x"&gt;Country Name (2 letter code) [KG]:&lt;/span&gt;
&lt;span class="x"&gt;State or Province Name (full name) [NA]:&lt;/span&gt;
&lt;span class="x"&gt;Locality Name (eg, city) [BISHKEK]:&lt;/span&gt;
&lt;span class="x"&gt;Organization Name (eg, company) [OpenVPN-TEST]:&lt;/span&gt;
&lt;span class="x"&gt;Organizational Unit Name (eg, section) []:&lt;/span&gt;
&lt;span class="x"&gt;Common Name (eg, your name or your server's hostname) []:OpenVPN-CA&lt;/span&gt;
&lt;span class="x"&gt;Email Address [me@myhost.mydomain]:&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dengan demikian kita sudah memiliki &lt;em&gt;certificate&lt;/em&gt; ca master kita, selanjutnya kita akan membuat  &lt;em&gt;key&lt;/em&gt; server dan &lt;em&gt;certificate&lt;/em&gt; server untuk openvpn server dengan perintah berikut:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo ./build-key-server server&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;kita akan kembali mendapatkan &lt;em&gt;challenge question&lt;/em&gt; interaktif dengan tambahan extra 2 pertanyaan seperti ini:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:
An optional company name []:

Sign the certificate? [y/n]
1 out of 1 certificate requests certified, commit? [y/n]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;sup&gt;seluruh pertanyaan challenge question sebaiknya dibiarkan bernilai default saja dengan menekan &lt;code&gt;enter&lt;/code&gt;, karna kita sudah menyetting nilai variabelnya di file &lt;code&gt;vars&lt;/code&gt;. Untuk extra pada saat membuat server &lt;em&gt;key&lt;/em&gt; dan server &lt;em&gt;certificate&lt;/em&gt; biarkan bernilai kosong.&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;Setelah itu, selanjutnya kita akan mengcopy semua file kedalam directory &lt;em&gt;keys&lt;/em&gt; yang sudah kita buat sebelumnya  dan merubah permission dari direktori tersebut supaya lebih aman.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo cp /etc/openvpn/easy-rsa/keys/{server.crt,server.key,ca.crt} /etc/openvpn&lt;/span&gt;
&lt;span class="x"&gt;sudo chmod 400 /etc/openvpn/easy-rsa/keys&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya kita akan kembali ke directory &lt;code&gt;openvpn&lt;/code&gt; untuk melanjutkan mengubah settingan dari file config.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;cd /etc/openvpn&lt;/span&gt;
&lt;span class="x"&gt;sudo nano server.conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;beberapa hal yang akan kita ubah:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mendefinisikan lokasi sertifikat master ca, dan server &lt;em&gt;certificate&lt;/em&gt; and server &lt;em&gt;key&lt;/em&gt; berada&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# Any X509 key management system can be used.
# OpenVPN can also use a PKCS #12 formatted key file
# (see "pkcs12" directive in man page).
ca /etc/openvpn/keys/ca.crt
cert /etc/openvpn/keys/openvpn-server.crt
key /etc/openvpn/keys/openvpn-server.key 
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;mengubah dhparam dari default 1024 ke 4096, sesuai dengan nilai key &lt;code&gt;dhparam&lt;/code&gt; yang kita buat sebelumnya.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;# Diffie hellman parameters.&lt;/span&gt;
&lt;span class="x"&gt;# Generate your own with:&lt;/span&gt;
&lt;span class="x"&gt;#   openssl dhparam -out dh1024.pem 1024&lt;/span&gt;
&lt;span class="x"&gt;# Substitute 2048 for 1024 if you are using&lt;/span&gt;
&lt;span class="x"&gt;# 2048 bit keys.&lt;/span&gt;
&lt;span class="x"&gt;dh dh4096.pem&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;ijinkan opsi push "redirect-gateway" dengan menghapus &lt;em&gt;comment(;)&lt;/em&gt; nya.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;;push "redirect-gateway def1 bypass-dhcp"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;hapus &lt;em&gt;comment&lt;/em&gt; dari opsi &lt;code&gt;push "dhcp-option"&lt;/code&gt; dan gantilah alamt DNS dengan alamat DNS yang kita ingin gunakan.
Kita bisa menggunakan opsi DNS dari &lt;a href="https://www.lifewire.com/free-and-public-dns-servers-2626062"&gt;daftar public DNS ini&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;# Certain Windows-specific network settings&lt;/span&gt;
&lt;span class="x"&gt;# can be pushed to clients, such as DNS&lt;/span&gt;
&lt;span class="x"&gt;# or WINS server addresses.  CAVEAT:&lt;/span&gt;
&lt;span class="x"&gt;# http://openvpn.net/faq.html#dhcpcaveats&lt;/span&gt;
&lt;span class="x"&gt;# The addresses below refer to the public&lt;/span&gt;
&lt;span class="x"&gt;# DNS servers provided by opendns.com.&lt;/span&gt;
&lt;span class="x"&gt;;push "dhcp-option DNS 208.67.222.222"&lt;/span&gt;
&lt;span class="x"&gt;;push "dhcp-option DNS 208.67.220.220"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya kita akan membuat user tanpa login shell dan &lt;em&gt;privileges root&lt;/em&gt; dan menyetting &lt;code&gt;user&lt;/code&gt; dan &lt;code&gt;group&lt;/code&gt;, karna secara &lt;em&gt;default&lt;/em&gt; &lt;code&gt;openvpn&lt;/code&gt; berjalan dengan akun &lt;em&gt;root&lt;/em&gt; atau superuser, maka untuk meningkatkan keamanan kita akan merubah ini, agar setelah berjalan di &lt;em&gt;background&lt;/em&gt; openvpn server menurukan &lt;em&gt;privileges&lt;/em&gt;nya menjadi user yang baru kita buat.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo adduser --system --shell /usr/sbin/nologin --no-create-home openvpn&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;kemudian cari baris berikut, hapus &lt;em&gt;comment&lt;/em&gt;nya dan ganti &lt;em&gt;user&lt;/em&gt;nya.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;# You can uncomment this out on&lt;/span&gt;
&lt;span class="x"&gt;# non-Windows systems.&lt;/span&gt;
&lt;span class="x"&gt;;user nobody&lt;/span&gt;
&lt;span class="x"&gt;;group nogroup&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;menjadi seperti ini &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;# You can uncomment this out on&lt;/span&gt;
&lt;span class="x"&gt;# non-Windows systems.&lt;/span&gt;
&lt;span class="x"&gt;user openvpn&lt;/span&gt;
&lt;span class="x"&gt;group nogroup&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Opsi lain yang bisa ditambahkan atau di ubah untuk memperkuat openvpn server kita seperti
* merubah &lt;em&gt;chipper&lt;/em&gt; dari 128 menjadi 256&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;echo 'cipher AES-256-CBC' &amp;gt;&amp;gt; /etc/openvpn/server.conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;merubah auth dari default SHA-1 dengan SHA-2 512&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;echo 'auth SHA512' &amp;gt;&amp;gt; /etc/openvpn/server.conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;meningkatkan VPN kontrol channel dengan &lt;em&gt;chipper suite&lt;/em&gt; yang lebih kuat sesuai refrensi &lt;a href="https://community.openvpn.net/openvpn/wiki/Hardening#Useof--tls-cipher"&gt;disini&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;echo 'tls-cipher TLS-DHE-RSA-WITH-AES-256-GCM-SHA384:TLS-DHE-RSA-WITH-AES-128-GCM-SHA256:TLS-DHE-RSA-WITH-AES-256-CBC-SHA:TLS-DHE-RSA-WITH-CAMELLIA-256-CBC-SHA:TLS-DHE-RSA-WITH-AES-128-CBC-SHA:TLS-DHE-RSA-WITH-CAMELLIA-128-CBC-SHA' &amp;gt;&amp;gt; /etc/openvpn/server.conf        &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;menggunakan opsi --tls-auth
Untuk menggunakan opsi ini, kita harus meng&lt;em&gt;generate&lt;/em&gt;nya terlebih dahulu&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo openvpn --genkey --secret easy-rsa/keys/ta.key&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kemudian ubah opsi tls-auth di config menjadi seperti ini&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;# The server and each client must have&lt;/span&gt;
&lt;span class="x"&gt;# a copy of this key.&lt;/span&gt;
&lt;span class="x"&gt;# The second parameter should be '0'&lt;/span&gt;
&lt;span class="x"&gt;# on the server and '1' on the clients.&lt;/span&gt;
&lt;span class="x"&gt;tls-auth /etc/openvpn/easy-rsa/keys/ta.key 0 # This file is secret&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya kita akan mengkonfigurasi firewall dan enable &lt;em&gt;packet forwarding&lt;/em&gt;
* enable &lt;em&gt;packet forwarding&lt;/em&gt; untuk mengijinkan opsi ini maka kita akan merubah baris di &lt;code&gt;/etc/sysctl.conf&lt;/code&gt;
dari &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;# Uncomment the next line to enable packet forwarding for IPv4&lt;/span&gt;
&lt;span class="x"&gt;#net.ipv4.ip_forward=1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;menjadi seperti ini&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;# Uncomment the next line to enable packet forwarding for IPv4&lt;/span&gt;
&lt;span class="x"&gt;net.ipv4.ip_forward=1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Install dan Setting &lt;code&gt;ufw&lt;/code&gt;. UFW adalah front-end untuk mempermudah manajemen dan administrasi dari linux IPTables.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo apt install ufw&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;kemudian ubah default &lt;em&gt;policy&lt;/em&gt;
dari seperti ini&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;DEFAULT_FORWARD_POLICY="DROP"
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;menjadi &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;DEFAULT_FORWARD_POLICY="ACCEPT"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya kita akan menambahkan rules baru untuk &lt;code&gt;openvpn&lt;/code&gt; pada UFW.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano /etc/ufw/before.rules
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;kemudian tambahkan baris berikut sebelum baris terahir &lt;code&gt;Don't delete&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;# START OPENVPN RULES&lt;/span&gt;
&lt;span class="x"&gt;# NAT table rules&lt;/span&gt;
&lt;span class="x"&gt;*nat&lt;/span&gt;
&lt;span class="x"&gt;:POSTROUTING ACCEPT [0:0]&lt;/span&gt;
&lt;span class="x"&gt;# Allow traffic from OpenVPN client to eth0&lt;/span&gt;
&lt;span class="x"&gt;-A POSTROUTING -s 10.8.0.0/8 -o eth0 -j MASQUERADE&lt;/span&gt;
&lt;span class="x"&gt;COMMIT&lt;/span&gt;
&lt;span class="x"&gt;# END OPENVPN RULES&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya kita akan mengijinkan koneksi service seperti ssh, web server serta openvpn ke ufw dan menjalankan ufw &lt;em&gt;service&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo ufw allow ssh&lt;/span&gt;
&lt;span class="x"&gt;sudo ufw allow http&lt;/span&gt;
&lt;span class="x"&gt;sudo ufw allow https&lt;/span&gt;
&lt;span class="x"&gt;sudo ufw allow 1194/udp&lt;/span&gt;
&lt;span class="x"&gt;sudo ufw enable&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jika kita ingin mengecek status ufw bisa dilakukan dengan perintah:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;sudo ufw status&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Selanjutnya &lt;em&gt;save&lt;/em&gt; dan &lt;em&gt;restart service&lt;/em&gt; openvpn server&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;systemctl restart openvpn&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hingga disini openvpn server sudah dapat digunakan, selanjutnya kita akan meng&lt;em&gt;generate&lt;/em&gt; dan setting &lt;em&gt;certificate&lt;/em&gt; untuk client agar dapat terhubung dengan openvpn.&lt;/p&gt;
&lt;p&gt;Untuk setting dan generate client maka buat terlebih dahulu direktory tempat menyimpan client config dan copy base config example bawaan dari openvpn&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;mkdir -p /etc/openvpn/clients/files&lt;/span&gt;
&lt;span class="x"&gt;cp /usr/share/doc/openvpn/examples/sample-config-files/client.conf /etc/openvpn/clients/base.conf&lt;/span&gt;
&lt;span class="x"&gt;````&lt;/span&gt;
&lt;span class="x"&gt;Kemudian edit file base.conf&lt;/span&gt;

&lt;span class="x"&gt;```php&lt;/span&gt;
&lt;span class="x"&gt;# The hostname/IP and port of the server.&lt;/span&gt;
&lt;span class="x"&gt;# You can have multiple remote entries&lt;/span&gt;
&lt;span class="x"&gt;# to load balance between the servers.&lt;/span&gt;
&lt;span class="x"&gt;remote your_server_ip 1194&lt;/span&gt;
&lt;span class="x"&gt;proto udp&lt;/span&gt;
&lt;span class="x"&gt;# Downgrade privileges after initialization (non-Windows only)&lt;/span&gt;
&lt;span class="x"&gt;user nobody&lt;/span&gt;
&lt;span class="x"&gt;group nogroup&lt;/span&gt;
&lt;span class="x"&gt;ca ca.crt&lt;/span&gt;
&lt;span class="x"&gt;cert client.crt&lt;/span&gt;
&lt;span class="x"&gt;key client.key&lt;/span&gt;
&lt;span class="x"&gt;tls-auth ta.key 1&lt;/span&gt;
&lt;span class="x"&gt;cipher AES-256-GCM&lt;/span&gt;
&lt;span class="x"&gt;auth SHA256&lt;/span&gt;
&lt;span class="x"&gt;key-direction 1&lt;/span&gt;
&lt;span class="x"&gt;## Comment-out line berikut jika tidak menggunakan systemd-resolved&lt;/span&gt;
&lt;span class="x"&gt;; script-security 2&lt;/span&gt;
&lt;span class="x"&gt;; up /etc/openvpn/update-resolv-conf&lt;/span&gt;
&lt;span class="x"&gt;; down /etc/openvpn/update-resolv-conf&lt;/span&gt;
&lt;span class="x"&gt;## Comment-out line berikut jika menggunakan systemd-resolved&lt;/span&gt;
&lt;span class="x"&gt;; script-security 2&lt;/span&gt;
&lt;span class="x"&gt;; up /etc/openvpn/update-systemd-resolved&lt;/span&gt;
&lt;span class="x"&gt;; down /etc/openvpn/update-systemd-resolved&lt;/span&gt;
&lt;span class="x"&gt;; down-pre&lt;/span&gt;
&lt;span class="x"&gt;; dhcp-option DOMAIN-ROUTE&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Setelah itu buat script untuk menggenerate config untuk client agar tidak perlu manual membuat config untuk setiap client:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;nano clients/client_base.sh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;dan isi dengan script berikut:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="x"&gt;# First argument: Client identifier&lt;/span&gt;

&lt;span class="x"&gt;KEY_DIR=/etc/openvpn/clients/keys&lt;/span&gt;
&lt;span class="x"&gt;OUTPUT_DIR=/etc/openvpn/clients/files&lt;/span&gt;
&lt;span class="x"&gt;BASE_CONFIG=/etc/openvpn/clients/base.conf&lt;/span&gt;

&lt;span class="x"&gt;cat ${BASE_CONFIG} \&lt;/span&gt;
&lt;span class="x"&gt;    &amp;lt;(echo -e '&amp;lt;ca&amp;gt;') \&lt;/span&gt;
&lt;span class="x"&gt;    ${KEY_DIR}/ca.crt \&lt;/span&gt;
&lt;span class="x"&gt;    &amp;lt;(echo -e '&amp;lt;/ca&amp;gt;\n&amp;lt;cert&amp;gt;') \&lt;/span&gt;
&lt;span class="x"&gt;    ${KEY_DIR}/${1}.crt \&lt;/span&gt;
&lt;span class="x"&gt;    &amp;lt;(echo -e '&amp;lt;/cert&amp;gt;\n&amp;lt;key&amp;gt;') \&lt;/span&gt;
&lt;span class="x"&gt;    ${KEY_DIR}/${1}.key \&lt;/span&gt;
&lt;span class="x"&gt;    &amp;lt;(echo -e '&amp;lt;/key&amp;gt;\n&amp;lt;tls-crypt&amp;gt;') \&lt;/span&gt;
&lt;span class="x"&gt;    ${KEY_DIR}/ta.key \&lt;/span&gt;
&lt;span class="x"&gt;    &amp;lt;(echo -e '&amp;lt;/tls-crypt&amp;gt;') \&lt;/span&gt;
&lt;span class="x"&gt;    &amp;gt; ${OUTPUT_DIR}/${1}.ovpn&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jangan lupa mengedit permission file agar executable
&lt;code&gt;chmox +x /etc/openvpn/clients/client_base.sh&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Selanjutnya generate config untuk client:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cd /etc/openvpn/clients
bash client_base.sh client1
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;output file akan muncul di direktori /etc/openvpn/clients/file&lt;/p&gt;
&lt;p&gt;Sampai disini openvpn config sudah bisa di gunakan untuk client terhubung dengan openvpn server.&lt;/p&gt;</content><category term="Linux"></category><category term="openvpn"></category><category term="vpn"></category><category term="gnu/linux"></category><category term="debian"></category><category term="linux"></category><category term="network"></category></entry><entry><title>Apa itu Cluster?</title><link href="/apa-itu-cluster.html" rel="alternate"></link><published>2014-06-10T13:30:00+07:00</published><updated>2014-06-10T13:30:00+07:00</updated><author><name>me</name></author><id>tag:None,2014-06-10:/apa-itu-cluster.html</id><summary type="html">&lt;p&gt;Mengal apa itu Clustering system&lt;/p&gt;</summary><content type="html">&lt;p&gt;Apa itu Cluster?&lt;/p&gt;
&lt;p&gt;&lt;img alt="cluster img!" src="images/cluster-img2.png" title="cluster2.img"/&gt;&lt;/p&gt;
&lt;p&gt;Teknik Clustering di dalam system komputer adalah teknik menggabungkan beberapa server atau instance menjadi sebuah resource system yang bisa digunakan untuk berbagai keperluan.
Clustering pada system komputer sendiri bisa merupakan Hardware Cluster maupun Software Cluster.&lt;/p&gt;
&lt;p&gt;Secara umum cluster bisa di kategorikan dalam 3 tipe, yaitu &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Load Balancing Cluster
Cluster dengan mode Load Balance bekerja dengan membagi (distribusi) beban ke beberapa resource yang ada, sehingga tidak terjadi overload pada salah satu server  dan menyebabkan pengguna tidak dapat mengakses system atau aplikasi.&lt;/li&gt;
&lt;li&gt;High Avability Cluster
Sedangkan High Avability Cluster adalah type cluster yang memastikan system atau service selalu bisa diakses meskipun ada salah satu server yang mati / down.&lt;/li&gt;
&lt;li&gt;Fail-Over-Cluster
Cluster mode ini bekerja dengan cara hot-standby atau master-slave, sehingga sebenarnya hanya server yang akan bekerja pada satu waktu, namun jika master atau server utama mengalami down atau gangguan, maka slave atau hot-stanby server akan mengambil alih.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="cluster image!" src="images/cluster-img1.png" title="clustering model"/&gt;&lt;/p&gt;
&lt;p&gt;Clustering pada system komputer memiliki benefit diantaranya:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;High Avability &lt;/li&gt;
&lt;li&gt;Redundancy / Fault Tolerance&lt;/li&gt;
&lt;li&gt;Scalability&lt;/li&gt;
&lt;li&gt;Load Balance&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Meski memiliki benefit, namun clustering system sendiri juga memiliki kekurangan diantaranya:
* High Cost
* Not easy to Setup and Maintain&lt;/p&gt;</content><category term="misc"></category><category term="server"></category><category term="cluster"></category><category term="load-balance"></category><category term="ha"></category></entry></feed>